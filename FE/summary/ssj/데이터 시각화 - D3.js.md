# 데이터 시각화 - D3.js





## D3.js

**Data - Driven Documents. JavaScript**
데이터 중심의 문서 `Data - Driven Documents`의 약자로 자바스크립트 기반의 라이브러리 언어이다.
**사용자가 입력한 시각화 규칙을 바탕으로 데이터를 반영해 시각화 결과물을 생성**한다.

데이터 시각화 프레임워크로 잘 알려져 있고 HTML5의 `SVG(Scalable Vector Graphic)` 을 통하여 다양한 화면 해상도에서도 깨짐없는 Visualizing이 가능하다.



## SVG

**Scalable Vector Graphics**

웹용 백터그래픽으로 HTML 문서에 직접 포함시키거나 삽입할 수 있다.
인터넷 익스플로러 8 이하를 제외한 모든 브라우저에서 지원한다

- 코드작업으로 이미지 편집 가능
- 품질손상없이 확대/축소 가능



## D3 동작과정

- Loading - 시각적 요소를 그리기 전 보여주고자 하는 데이터를 불러온다.
- Selecting-Binding - 시각적 요소 안에 데이터 수치를 입력한 코드에 맞춰 연동시킨다.
- Transform - 그래프의 유형, 색상, 축 등 다양한 요소 지정
- Transition - 클릭, 드래그 등 인터렉션 효과 지정



## D3 메서드

대부분의 D3메서드는 결과 값으로 선택물의 참조를 반환하므로, 메서드를 체인으로 연결할 때는 순서가 중요하다. 어떤 메서드의 반환 값 타입은 체인으로 연결된 다음 메서드가 기대하는 입력 값과 맞아야 한다.

**메서드 체인**이란 구두점(.)과 함께 메서드를 체인처럼 연결함으로써 코드 한 줄에 여러 동작을 실행할 수 있는 기법.

**.select()** - 현재 문서에서 특정 태그 하나를 선택하는 메서드
**.selectAll()** - 특정 태그 전체를 선택
**.data()** - 참조 연결할 데이터를 가져옴 (선택된 태그에 대한 데이터 매칭)
**.enter()** - 데이터 개수 만큼 태그가 부족할때, 부족한 갯수만큼 플레이스 홀더를 반환
**.append()** - 새로운 태그 추가
**.exit()** - 종료 (더이상 필요없는 태그 반환)
**.remove** - 현재 문서에서 선택된 태그를 제거

```javascript
let dataset = [ 5, 10, 15, 20, 25 ]; 

d3.select("body")          // body 요소 선택
  .selectAll("p")          // p태그를 가진 요소를 선택
  .data(dataset)           // 해당 태그와 dataset을 바인딩
  .enter()                 // 바인딩 되지 못하고 남은 녀석들의 selection 객체 반환
  .append("p")             // 해당 객체에 p라는 태그를 더 붙임
  .text("New p!"); // 이 새로운 요소에 "New p!" 라는 text 추가
```

